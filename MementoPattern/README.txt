
Определение
Не нарушая инкапсуляции, захватывайте и экстернализируйте внутреннее состояние объекта, чтобы
объект может быть восстановлен в этом состоянии позже.

Концепция
Словосочетание слова memento заключается в том, что это напоминание о прошлых событиях.
При использовании этого шаблона вы можете восстановить объект до его предыдущего состояния. Этот шаблон
обеспечивает объектно-ориентированный способ сохранения состояния объекта.

Пример из реальной жизни
Вы можете увидеть классический пример шаблона Memento в состояниях конечного состояния
машина. Этот шаблон является математической моделью, но одним из его простейших приложений является
турникет. У турникета есть вращающиеся руки, которые изначально заперты. Когда вы
позволили пройти через него (скажем, вставив несколько монет), замки откроются, а руки
будет разрешено вращаться. Как только вы пройдете, оружие вернется в запертое состояние

Пример из комьютерного мира
В приложении для рисования вам может потребоваться вернуться в более старое состояние.

Иллюстрация
В этом примере задействованы три объекта: памятник, создатель и смотритель.
(Это обычные соглашения об именах, поэтому я их и использую здесь.)
объект-отправитель имеет внутреннее состояние, и клиент может установить в нем состояние. Сначала смотритель
спрашивает создателя для объекта памяти, потому что он хочет удерживать (или сохранять) текущий
состояние объекта-отправителя. Объект смотрителя также подтверждает операцию сохранения
отображение консольного сообщения. Теперь предположим, что клиент хочет вернуться к предыдущему
государство. Поскольку состояние объекта отправителя уже изменено, для возврата к предыдущему
state, вам нужно получить помощь от объекта caretaker, который ранее сохранил состояние. Так,
объект-опекун теперь возвращает объект памяти (с предыдущим состоянием) в
Возбудитель. Кроме того, сам объект памяти - непрозрачный объект (тот, который смотритель
не разрешено вносить какие-либо изменения).


Рассмотрим следующее:


Сессия Q & A
